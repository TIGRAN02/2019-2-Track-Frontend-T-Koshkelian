(this["webpackJsonptrack-mail-2019-tigrankoskelan"]=this["webpackJsonptrack-mail-2019-tigrankoskelan"]||[]).push([[0],{11:function(e,t,a){e.exports={mine:"singleMessageStyles_mine__2aeSr",yours:"singleMessageStyles_yours__xV5-S",time:"singleMessageStyles_time__1j9xx",content_vert:"singleMessageStyles_content_vert__LdcFu",content:"singleMessageStyles_content__E28if",image:"singleMessageStyles_image__3_Eoq"}},14:function(e,t,a){e.exports={attachment:"imagesStyles_attachment__1zRo5",geolocation:"imagesStyles_geolocation__EsXcY",cowboy_hat_face:"imagesStyles_cowboy_hat_face__1Io0i",voice:"imagesStyles_voice__1RXmK",stopRecording:"imagesStyles_stopRecording__1tbnc",tick:"imagesStyles_tick__13B3E",back:"imagesStyles_back__EosuP",burger:"imagesStyles_burger__3U2Vg",new_chat:"imagesStyles_new_chat__20Qu-"}},2:function(e,t,a){e.exports={container:"profileAndCreateStyles_container__3WU5q",profileAnim:"profileAndCreateStyles_profileAnim__1R1xV",slideFromAbove:"profileAndCreateStyles_slideFromAbove__XAaOy",createUserAnim:"profileAndCreateStyles_createUserAnim__2cpz5",slideFromRight:"profileAndCreateStyles_slideFromRight__3OldG",createChatAnim:"profileAndCreateStyles_createChatAnim__THySc",slideFromBelow:"profileAndCreateStyles_slideFromBelow__1VYoh",horizontal:"profileAndCreateStyles_horizontal__3UIDs",vertical:"profileAndCreateStyles_vertical__13BM9",horizontalPhoto:"profileAndCreateStyles_horizontalPhoto__15E4-",photo:"profileAndCreateStyles_photo__3vvty",pic:"profileAndCreateStyles_pic__3GBuI",input:"profileAndCreateStyles_input__1WZxj",inputName:"profileAndCreateStyles_inputName__2H0Zf",inputTag:"profileAndCreateStyles_inputTag__3LDrv",inputBio:"profileAndCreateStyles_inputBio__1rXNR",inputPassword:"profileAndCreateStyles_inputPassword__EEdyc",interactiveText:"profileAndCreateStyles_interactiveText__3zJYf",empty:"profileAndCreateStyles_empty__CIK5o"}},22:function(e,t,a){e.exports={link:"singleChatStyles_link__2-lDM",chat:"singleChatStyles_chat__1KUVU",photo:"singleChatStyles_photo__NC_8L",vertical:"singleChatStyles_vertical__3mvs3",horizontal:"singleChatStyles_horizontal__EG8om",name:"singleChatStyles_name__Gv2R6",last_time:"singleChatStyles_last_time__1JqgL",last_message:"singleChatStyles_last_message__Dnuoe",indicator:"singleChatStyles_indicator__TGwpK"}},23:function(e,t,a){e.exports={form:"messageFormStyles_form__3DsTf",slideFromRight:"messageFormStyles_slideFromRight__3UAes",the_chat:"messageFormStyles_the_chat__dTIsF",empty:"messageFormStyles_empty__3K6BC",curr_message:"messageFormStyles_curr_message__3qZMn",horizontal:"messageFormStyles_horizontal__1qqDE",input:"messageFormStyles_input__35_YK",img:"messageFormStyles_img__2CBPs"}},3:function(e){e.exports=JSON.parse('{"b":"https://herokuhummingbird.herokuapp.com","a":"wss://hummingbirdcentrifugo.herokuapp.com/connection/websocket","d":"4hyjk34hnjbdgbxfgbsfbAEWkntg2459jg9ojtg89jeiofj2948jtg3iotjgf3906uh","e":"asmdbdgbxgvlkejrthiej54j38984ujfio24RTHTYntbl38rthjg3984jrfiojt93utj2p0","c":["amphora","balloon","coffin","door","baby_chick","boar","butterfly","avocado","love_you_gesture","thumbs_up","thumbs_down","victory_hand","crying_face","face_with_medical_mask","face_with_rolling_eyes","face_blowing_a_kiss"]}')},34:function(e,t,a){e.exports=a.p+"static/media/profilePic.ad60b068.png"},35:function(e,t,a){e.exports={amphora_in_message:"emojiStyles_amphora_in_message__24FSZ",amphora_in_chat:"emojiStyles_amphora_in_chat__1Yahl",amphora_in_menu:"emojiStyles_amphora_in_menu__tXs0B",avocado_in_message:"emojiStyles_avocado_in_message__24YvF",avocado_in_chat:"emojiStyles_avocado_in_chat__8Ggl-",avocado_in_menu:"emojiStyles_avocado_in_menu__2UzZ5",baby_chick_in_message:"emojiStyles_baby_chick_in_message__2ts4g",baby_chick_in_chat:"emojiStyles_baby_chick_in_chat__3mUGH",baby_chick_in_menu:"emojiStyles_baby_chick_in_menu__B_iDp",balloon_in_message:"emojiStyles_balloon_in_message__3sxY1",balloon_in_chat:"emojiStyles_balloon_in_chat__30QIw",balloon_in_menu:"emojiStyles_balloon_in_menu__3EvVv",boar_in_message:"emojiStyles_boar_in_message__zuVBJ",boar_in_chat:"emojiStyles_boar_in_chat__RBFcJ",boar_in_menu:"emojiStyles_boar_in_menu__1VgNc",butterfly_in_message:"emojiStyles_butterfly_in_message__p8A44",butterfly_in_chat:"emojiStyles_butterfly_in_chat__cqifC",butterfly_in_menu:"emojiStyles_butterfly_in_menu__1Nm4v",coffin_in_message:"emojiStyles_coffin_in_message__27zmu",coffin_in_chat:"emojiStyles_coffin_in_chat__3S8D-",coffin_in_menu:"emojiStyles_coffin_in_menu__1oMzN",crying_face_in_message:"emojiStyles_crying_face_in_message__3mXXu",crying_face_in_chat:"emojiStyles_crying_face_in_chat__SxI_Q",crying_face_in_menu:"emojiStyles_crying_face_in_menu__3R4t7",door_in_message:"emojiStyles_door_in_message__3e_a8",door_in_chat:"emojiStyles_door_in_chat__2MT5n",door_in_menu:"emojiStyles_door_in_menu__WJXBk",face_blowing_a_kiss_in_message:"emojiStyles_face_blowing_a_kiss_in_message__2U376",face_blowing_a_kiss_in_chat:"emojiStyles_face_blowing_a_kiss_in_chat__2gtOV",face_blowing_a_kiss_in_menu:"emojiStyles_face_blowing_a_kiss_in_menu__1ESQa",face_with_medical_mask_in_message:"emojiStyles_face_with_medical_mask_in_message__3Il2B",face_with_medical_mask_in_chat:"emojiStyles_face_with_medical_mask_in_chat__EjFOv",face_with_medical_mask_in_menu:"emojiStyles_face_with_medical_mask_in_menu__1pjaG",face_with_rolling_eyes_in_message:"emojiStyles_face_with_rolling_eyes_in_message__uGc_I",face_with_rolling_eyes_in_chat:"emojiStyles_face_with_rolling_eyes_in_chat__1o8WU",face_with_rolling_eyes_in_menu:"emojiStyles_face_with_rolling_eyes_in_menu__2nY50",love_you_gesture_in_message:"emojiStyles_love_you_gesture_in_message__1G7JX",love_you_gesture_in_chat:"emojiStyles_love_you_gesture_in_chat__fnmbp",love_you_gesture_in_menu:"emojiStyles_love_you_gesture_in_menu__1BF6s",thumbs_up_in_message:"emojiStyles_thumbs_up_in_message__1cBi1",thumbs_up_in_chat:"emojiStyles_thumbs_up_in_chat__3jJq6",thumbs_up_in_menu:"emojiStyles_thumbs_up_in_menu__WEgeT",thumbs_down_in_message:"emojiStyles_thumbs_down_in_message__UUD72",thumbs_down_in_chat:"emojiStyles_thumbs_down_in_chat__3a-5-",thumbs_down_in_menu:"emojiStyles_thumbs_down_in_menu__1XQCm",victory_hand_in_message:"emojiStyles_victory_hand_in_message__2o-bV",victory_hand_in_chat:"emojiStyles_victory_hand_in_chat__3no8h",victory_hand_in_menu:"emojiStyles_victory_hand_in_menu__3AOZh",emoji_window:"emojiStyles_emoji_window__3fwTF",horizontal:"emojiStyles_horizontal__yxhVg"}},39:function(e,t,a){e.exports={container:"chatListStyles_container__3L2LZ",slideFromLeft:"chatListStyles_slideFromLeft__22HuI",chats:"chatListStyles_chats__1I7K9",new_chat_button:"chatListStyles_new_chat_button__4bz_x"}},62:function(e,t,a){e.exports=a(76)},7:function(e,t,a){e.exports={rectangle:"headerStyles_rectangle__3ijfR",leftHorizontal:"headerStyles_leftHorizontal__1r8jT",rightHorizontal:"headerStyles_rightHorizontal__tJnYo",leftButton:"headerStyles_leftButton__2YKvq",rightButton:"headerStyles_rightButton__NZSqS",vertical:"headerStyles_vertical__HH6d5",horizontal:"headerStyles_horizontal__3wWJR",name:"headerStyles_name__pzbgF",text:"headerStyles_text__3zlfI",emptyMiddle:"headerStyles_emptyMiddle__xpw9E"}},70:function(e,t,a){},74:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=74},76:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(27),o=a(30),r=a(43),c=a(61),l=a(80),h=a(28),m=a(55),u=a(56),_=a(13),d="successfully fetched messages",g="error fetching messages",f="successfully fetched chat info",p="error fetching chat info",v="successfully fetched user info",y="error fetching user info",b="typing new message",k={chats:{},error:null,isLoaded:!1},w=a(29),S=a(31),N={messages:{},errors:{},isLoaded:!1},C={info:{},isLoaded:!1,error:null},E={},T=Object(h.combineReducers)({chats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(_.a)({},e,{chats:t.payload,isLoaded:!0});case p:return Object(_.a)({},e,{error:t.payload.error});default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{messages:Object(_.a)({},e.messages,Object(w.a)({},t.chatTag,[].concat(Object(S.a)(e.messages[t.chatTag]||[]),Object(S.a)(t.payload)))),errors:Object(_.a)({},e.errors,Object(w.a)({},t.chat,null)),isLoaded:!0};case g:return{messages:Object(_.a)({},e.messages),errors:Object(_.a)({},e.errors,Object(w.a)({},t.chat,t.payload.error))};default:return e}},userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(_.a)({},e,{isLoaded:!0,info:Object(_.a)({},e.info,{},t.payload)});case y:return Object(_.a)({},e,{error:t.payload.error});default:return e}},inputText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;return t.type===b?Object(_.a)({},e,Object(w.a)({},t.chat,{text:t.payload})):e}}),j=Object(h.createStore)(T,Object(m.composeWithDevTools)({})(Object(h.applyMiddleware)(u.a))),x=(a(70),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function P(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var F=a(16),O=a(17),I=a(20),D=a(19),M=a(48),U=a(10),B=a.n(U),R=a(7),z=a.n(R),A=a(14),L=a.n(A);var W=function(e){var t,a,n=e.leftLink,o=e.leftImg,r=e.rightText,c=e.rightImg,l=e.name,h=e.onRightClick;return"/ChatList"===n.substring(0,9)?t=s.a.createElement("div",{className:z.a.vertical},s.a.createElement("div",{className:z.a.text},"Chats")):"/"===n&&(t=s.a.createElement("div",{className:z.a.vertical},s.a.createElement("div",{className:z.a.text},"Home"))),""!==c?a=s.a.createElement("div",{className:z.a.rightButton,onClick:h},s.a.createElement("div",{className:z.a.vertical},s.a.createElement("div",{className:"".concat(L.a[c])}))):""!==r&&(a=s.a.createElement("div",{className:z.a.rightButton,onClick:h},s.a.createElement("div",{className:z.a.vertical},s.a.createElement("div",{className:z.a.text},r)))),s.a.createElement("div",{className:z.a.rectangle},s.a.createElement("div",{className:z.a.leftHorizontal},s.a.createElement(i.b,{to:n,className:z.a.leftButton},s.a.createElement("div",{className:z.a.vertical},s.a.createElement("div",{className:"".concat(L.a[o])})),t)),s.a.createElement("div",{className:z.a.horizontal},s.a.createElement("div",{className:z.a.vertical},s.a.createElement("div",{className:z.a.name},l))),s.a.createElement("div",{className:z.a.rightHorizontal},a))},G=a(3),Y=a(34),H=a.n(Y),J=a(22),X=a.n(J),q=a(39),V=a.n(q);function K(e){return fetch("".concat(G.b,"/users/check_auth/?id=").concat(e)).then((function(e){return e.json().then((function(e){return e.auth}))}))}var Z=a(11),Q=a.n(Z),$=a(35),ee=a.n($);function te(e,t){var a,n=e.split(":"),i=0;switch(t){case 0:a="_in_message";break;case 1:a="_in_chat";break;default:a=null}return n.forEach((function(e,t,n){G.c.includes(e)?n.splice(t,1,s.a.createElement("div",{key:i,className:Q.a.content_vert},s.a.createElement("div",{className:"".concat(ee.a["".concat(e).concat(a)])}))):n.splice(t,1,s.a.createElement("div",{key:i,className:Q.a.content_vert},e)),i+=1})),n}function ae(e){var t=e.name,a=e.tag,n=e.userId,o=e.lastTime,r=e.lastMessage,c=e.indicator,l=e.key;return s.a.createElement("div",{key:l},s.a.createElement(i.b,{to:"/MessageForm/".concat(a,"/").concat(t,"/").concat(n),className:X.a.link},s.a.createElement("div",{className:X.a.chat},s.a.createElement("img",{src:H.a,alt:"",className:X.a.photo,height:"100px",width:"height"}),s.a.createElement("div",{className:X.a.vertical},s.a.createElement("div",{className:X.a.horizontal},s.a.createElement("div",{className:X.a.name},t),s.a.createElement("div",{className:X.a.last_time},o)),s.a.createElement("div",{className:X.a.horizontal},s.a.createElement("div",{className:X.a.last_message},te(r,1)),s.a.createElement("div",{className:X.a.indicator},c))))),s.a.createElement("hr",null))}function ne(e){var t=e.lastMessage,a=e.lastType,n="";if("text"===a){var s,i=t.split(" "),o=i[0].length,r=!1,c=Object(M.a)(i);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(o>=100){r=!0;break}n+="".concat(l," "),o+=l.length}}catch(h){c.e(h)}finally{c.f()}n=n.substr(0,n.length-1),r&&(n+="...")}else n=a;return n}var se=function(e){Object(I.a)(a,e);var t=Object(D.a)(a);function a(e){var n;return Object(F.a)(this,a),(n=t.call(this,e)).state={userId:Number(n.props.match.params.userId),chats:[]},n}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=this;K(this.state.userId).then((function(t){t?e.getChats():window.location.hash="#/"}))}},{key:"getChats",value:function(){var e=this;fetch("".concat(G.b,"/chats/chat_list/?id=").concat(this.state.userId),{method:"GET",headers:{"X-CSRFToken":B.a.get("csrftoken")}}).then((function(e){return e.json()})).then((function(t){var a=t.chats;a.sort(e.compareNumber),e.setState({chats:a})}))}},{key:"compareNumber",value:function(e,t){var a=e.indicator,n=t.indicator;return a>n?-1:a===n?0:a<n?1:0}},{key:"render",value:function(){var e,t=this,a=[],n=0,o=Object(M.a)(this.state.chats);try{for(o.s();!(e=o.n()).done;){var r=e.value;r.key=n,n+=1,r.lastMessage=ne(r),r.userId=this.state.userId;var c=ae(r);a=[].concat(Object(S.a)(a),[c])}}catch(l){o.e(l)}finally{o.f()}return s.a.createElement("div",{className:V.a.container},s.a.createElement(W,{leftImg:"burger",leftLink:"/UserProfile/".concat(this.state.userId),rightImg:"",rightText:"Exit",name:"Hummingbird",onRightClick:function(e){e.preventDefault(),fetch("".concat(G.b,"/users/logout/?id=").concat(t.state.userId)).then((function(e){return e.json()})).then((function(){window.location.hash="#/"}))}}),s.a.createElement("div",{className:V.a.chats},a),s.a.createElement(i.b,{to:"/CreateChat/".concat(this.state.userId),className:V.a.new_chat_button},s.a.createElement("div",{className:"".concat(L.a.new_chat," ").concat(V.a.new_chat_button)})))}}]),a}(s.a.Component),ie=a(40),oe=a.n(ie),re=a(18),ce=a(51),le=a(25),he=a.n(le),me=a(58),ue=a.n(me),_e=a(59),de=a.n(_e),ge=a(23),fe=a.n(ge);function pe(){return ve.apply(this,arguments)}function ve(){return(ve=Object(ce.a)(oe.a.mark((function e(){var t,a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,a={audio:!0},e.next=4,navigator.mediaDevices.getUserMedia(a);case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ye=function(e){Object(I.a)(a,e);var t=Object(D.a)(a);function a(e){var n;return Object(F.a)(this,a),(n=t.call(this,e)).state={value:"",name:n.props.match.params.name,tag:n.props.match.params.tag,userId:Number(n.props.match.params.userId),notMyChannel:!0,emojiOpen:!1,chatStyle:{},messages:[],chunks:[],audioFlag:!1},fetch("".concat(G.b,"/chats/chat_detail/?tag=").concat(n.state.tag)).then((function(e){return e.json()})).then((function(e){var t=e.chat;t[0].channel&&t[0].whose!==n.state.userId||n.setState({notMyChannel:!1})})),he()(Object(re.a)(n)),n.fileManager=s.a.createRef(),n.messages=s.a.createRef(),n.manageFiles=function(){return n.fileManager.current.click()},n.emojiWindow=n.makeEmojiWindow(),n.mediaRecorder=null,n.centrifuge=null,n.peer=null,n.conn=null,n}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=this;K(this.state.userId).then((function(t){if(t)if(e.state.tag.includes("peerjs")){var a=1===e.state.userId?G.d:G.e;e.peer=new de.a(a),e.peer.on("open",(function(){e.peer.on("close",(function(){e.conn=null})),e.peer.on("connection",(function(t){e.conn||(e.conn=t,e.conn.on("open",(function(){e.conn.on("data",(function(t){e.addMessage(t,e.state.messages.length+1)}))})))})),setTimeout(e.openConnection,1e3)}))}else e.centrifuge=new ue.a(G.a),fetch("".concat(G.b,"/centrifugo/?id=").concat(e.state.userId)).then((function(e){return e.json()})).then((function(t){var a=t.token;e.centrifuge.setToken(a),e.centrifuge.subscribe("chat:".concat(e.state.tag),(function(t){"ok"===t.data.status&&e.addMessage(t.data.message,e.state.messages.length+1)})),e.centrifuge.connect()})),e.getMessages(e.state.tag);else window.location.hash="#/"}))}},{key:"componentWillUnmount",value:function(){this.state.tag.includes("peerjs")?(this.peer.destroy(),this.conn=null):(this.centrifuge.disconnect(),this.centrifuge=null)}},{key:"openConnection",value:function(){var e=this;if(!this.conn){var t=1===this.state.userId?G.e:G.d;this.conn=this.peer.connect(t),this.conn.on("open",(function(){e.conn.on("data",(function(t){e.addMessage(t,e.state.messages.length+1)}))}))}}},{key:"getMessages",value:function(e){var t=this;fetch("".concat(G.b,"/chats/chat/?tag=").concat(e)).then((function(e){return e.json()})).then((function(e){for(var a=e.messages,n=a.length-t.state.messages.length-1;n>=0;n-=1)t.addMessage(a[n],a.length-n)}))}},{key:"addMessage",value:function(e,t){var a,n={};n.time=e.time,n.whose=e.whose,n.userId=this.state.userId,n.key=t,"text"===e.type?(n.content=e.content,a=function(e){var t=e.userId,a=e.content,n=e.time,i=e.whose,o=e.key;return s.a.createElement("div",{className:i===t?Q.a.mine:Q.a.yours,style:{maxWidth:"75%"},key:o},s.a.createElement("div",{className:Q.a.content},te(a,0)),s.a.createElement("div",{className:Q.a.time},n))}(n)):(n.url=e.url,a="image"===e.type?function(e){var t=e.userId,a=e.url,n=e.time,i=e.whose,o=e.key;return s.a.createElement("div",{className:i===t?Q.a.mine:Q.a.yours,style:{background:"rgb(40, 40, 40)"},key:o},s.a.createElement("img",{src:a,className:Q.a.image,alt:"blob was deleted"}),s.a.createElement("div",{className:Q.a.time},n))}(n):function(e){var t=e.userId,a=e.url,n=e.time,i=e.whose,o=e.key;return s.a.createElement("div",{className:i===t?Q.a.mine:Q.a.yours,style:{width:"30%",background:"rgb(40, 40, 40)"},key:o},s.a.createElement("audio",{src:a,style:{width:"100%"},controls:!0}),s.a.createElement("div",{className:Q.a.time},n))}(n)),this.setState((function(e){return{messages:[a].concat(Object(S.a)(e.messages))}}))}},{key:"sendGeo",value:function(e){var t=this;e.preventDefault(),navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var a=e.coords,n=a.latitude,s=a.longitude,i="https://www.openstreetmap.org/#map=18/".concat(n,"/").concat(s);t.sendTextMessage(i)}))}},{key:"sendTextMessage",value:function(e){if(this.state.tag.includes("peerjs")){var t=new Date,a={whose:this.state.userId,time:"".concat(t.getHours(),":").concat(t.getMinutes()),type:"text",content:e};this.conn.send(a),this.addMessage(a,this.state.messages.length+1)}else fetch("".concat(G.b,"/chats/send_message/"),{method:"POST",body:JSON.stringify({chat_tag:this.state.tag,user_id:this.state.userId,type:"text",content:e}),headers:{"X-CSRFToken":B.a.get("csrftoken"),"Content-Type":"application/json"}}).then((function(){}))}},{key:"handleTextSubmit",value:function(e){e.preventDefault(),""!==this.state.value&&(this.sendTextMessage(this.state.value),this.setState({value:""}))}},{key:"handleTextChange",value:function(e){e.preventDefault(),this.setState({value:e.target.value})}},{key:"sendImageMessage",value:function(e){if(this.state.tag.includes("peerjs")){var t=new Date,a={whose:this.state.userId,time:"".concat(t.getHours(),":").concat(t.getMinutes()),type:"image",url:e};this.conn.send(a)}else fetch("".concat(G.b,"/chats/send_message/"),{method:"POST",body:JSON.stringify({chat_tag:this.state.tag,user_id:this.state.userId,type:"image",url:e}),headers:{"X-CSRFToken":B.a.get("csrftoken"),"Content-Type":"application/json"}}).then((function(){}))}},{key:"handleImageSubmit",value:function(e){var t=this;if(e&&e.length)for(var a=function(a){var n=window.URL.createObjectURL(e[a]),s=e[a].name;t.sendImageMessage(n,s),t.messages.current.onload=function(){window.URL.revokeObjectURL(n)}},n=0;n<e.length;n+=1)a(n)}},{key:"handleImageChange",value:function(e){e.preventDefault();var t=this.fileManager.current.files;this.handleImageSubmit(t)}},{key:"sendAudioMessage",value:function(e){if(this.state.tag.includes("peerjs")){var t=new Date,a={whose:this.state.userId,time:"".concat(t.getHours(),":").concat(t.getMinutes()),type:"audio",url:e};this.conn.send(a)}else fetch("".concat(G.b,"/chats/send_message/"),{method:"POST",body:JSON.stringify({chat_tag:this.state.tag,user_id:this.state.userId,type:"audio",url:e}),headers:{"X-CSRFToken":B.a.get("csrftoken"),"Content-Type":"application/json"}}).then((function(){}))}},{key:"dataAvailable",value:function(e){e.preventDefault();var t=this.state.chunks;t.push(e.data),this.setState((function(e){return{chunks:t}}))}},{key:"stopRecording",value:function(e){this.setState({audioFlag:!1});var t=new Blob(this.state.chunks,{type:"audio/ogg; codecs=opus"});this.setState({chunks:[]});var a=URL.createObjectURL(t);this.sendAudioMessage(a),this.messages.current.onload=function(){window.URL.revokeObjectURL(a)}}},{key:"handleStartRecording",value:function(){var e=Object(ce.a)(oe.a.mark((function e(t){var a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,pe();case 4:a=e.sent,this.mediaRecorder=new MediaRecorder(a),this.setState({chunks:[]}),this.mediaRecorder.ondataavailable=this.dataAvailable,this.mediaRecorder.onstop=this.stopRecording,this.setState({audioFlag:!0}),this.mediaRecorder.start(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),alert("Unable to record audio");case 16:case"end":return e.stop()}}),e,this,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleEndRecording",value:function(e){this.mediaRecorder.stop()}},{key:"handleDragEnter",value:function(e){e.preventDefault(),this.setState({chatStyle:{border:"2px dashed rgb(255, 255, 255)"}})}},{key:"handleDragLeave",value:function(e){e.preventDefault(),this.setState({chatStyle:{}})}},{key:"handleDragOver",value:function(e){e.preventDefault()}},{key:"handleDrop",value:function(e){e.preventDefault();var t=e.dataTransfer.files;this.handleImageSubmit(t),this.setState({chatStyle:{}})}},{key:"makeEmojiWindow",value:function(){for(var e=this,t=[],a=Math.min(Math.sqrt(G.c.length),10),n=function(n){for(var i=[],o=function(t){i.push(s.a.createElement("div",{key:t,className:"".concat(ee.a["".concat(G.c[n*a+t],"_in_menu")]),onClick:function(s){return s.stopPropagation(),e.setState((function(e){return{value:e.value.concat(":".concat(G.c[n*a+t],":"))}})),!1}}))},r=0;r<a;r+=1)o(r);t.push(s.a.createElement("div",{key:n,className:ee.a.horizontal},i))},i=0;i<a;i+=1)n(i);return s.a.createElement("div",{className:ee.a.emoji_window},t)}},{key:"render",value:function(){var e=this,t=null,a=null;return this.state.emojiOpen&&(a=this.emojiWindow),this.state.notMyChannel||(t=s.a.createElement("div",{className:fe.a.horizontal},s.a.createElement("input",{type:"file",multiple:!0,accept:"image/*",style:{display:"none"},ref:this.fileManager,onChange:this.handleImageChange}),s.a.createElement("div",{className:"".concat(L.a.attachment," ").concat(fe.a.img),style:{maxWidth:"40px"},onClick:this.manageFiles}),s.a.createElement("div",{className:"".concat(L.a.geolocation," ").concat(fe.a.img),style:{maxWidth:"29px"},onClick:this.sendGeo}),s.a.createElement("input",{type:"text",value:this.state.value,placeholder:"Your message",className:fe.a.input,onChange:this.handleTextChange}),s.a.createElement("div",{className:"".concat(L.a.cowboy_hat_face," ").concat(fe.a.img),style:{maxWidth:"50px"},onClick:function(t){return t.stopPropagation(),e.setState((function(e){return{emojiOpen:!e.emojiOpen}})),!1}}),s.a.createElement("div",{className:this.state.audioFlag?"".concat(L.a.stopRecording," ").concat(fe.a.img):"".concat(L.a.voice," ").concat(fe.a.img),style:{maxWidth:"29px"},onClick:this.state.audioFlag?this.handleEndRecording:this.handleStartRecording}))),s.a.createElement("form",{className:fe.a.form,onSubmit:this.handleTextSubmit,onClick:function(){e.setState({emojiOpen:!1})}},s.a.createElement(W,{leftImg:"back",rightImg:"",rightText:"",leftLink:"/ChatList/".concat(this.state.userId),name:this.state.name,onRightClick:function(){}}),s.a.createElement("div",{className:fe.a.the_chat,style:this.state.chatStyle,onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDrop:this.handleDrop,ref:this.messages},this.state.messages),a,t,s.a.createElement("div",{className:fe.a.empty}))}}]),a}(s.a.Component),be=a(2),ke=a.n(be),we=function(e){Object(I.a)(a,e);var t=Object(D.a)(a);function a(e){var n;return Object(F.a)(this,a),(n=t.call(this,e)).state={initialUserName:"",initialUserTag:"",initialUserBio:"",currentUserName:"",currentUserTag:"",currentUserBio:"",oldPassword:"",newPassword:"",changePassword:0,userId:Number(n.props.match.params.userId),isTick:!1},he()(Object(re.a)(n)),n}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=this;K(this.state.userId).then((function(t){t?fetch("".concat(G.b,"/users/profile/?id=").concat(e.state.userId)).then((function(e){return e.json()})).then((function(t){e.setState({initialUserName:t.name,initialUserTag:t.tag,initialUserBio:t.bio,currentUserName:t.name,currentUserTag:t.tag,currentUserBio:t.bio})})):window.location.hash="#/"}))}},{key:"onTickClick",value:function(e){var t=this;e.preventDefault();var a={name:this.state.currentUserName,tag:this.state.currentUserTag,bio:this.state.currentUserBio,old_tag:this.state.initialUserTag};fetch("".concat(G.b,"/users/set_user/"),{method:"POST",body:JSON.stringify(a),headers:{"X-CSRFToken":B.a.get("csrftoken")}}).then((function(e){return e.ok})).then((function(e){return e?t.setState((function(e){return{initialUserName:e.currentUserName,initialUserTag:e.currentUserTag,initialUserBio:e.currentUserBio,isTick:!1}})):t.setState((function(e){return{currentUserName:e.initialUserName,currentUserTag:e.initialUserTag,currentUserBio:e.initialUserBio,isTick:!1}})),t.state.initialUserTag})).then((function(e){if(""!==t.state.newPassword){var a={old_password:t.state.oldPassword,new_password:t.state.newPassword,tag:e};fetch("".concat(G.b,"/users/change_password/"),{method:"POST",body:JSON.stringify(a),headers:{"X-CSRFToken":B.a.get("csrftoken")}}).then((function(e){t.setState({newPassword:"",oldPassword:"",changePassword:e.ok?1:2})}))}}))}},{key:"openPasswordForm",value:function(e){e.preventDefault(),this.setState({changePassword:0})}},{key:"handleChangeName",value:function(e){e.preventDefault();var t=e.target.value;this.setState((function(e){return{currentUserName:t,isTick:e.initialUserName!==t}}))}},{key:"handleChangeTag",value:function(e){e.preventDefault();var t=e.target.value;this.setState((function(e){return{currentUserTag:t,isTick:e.initialUserTag!==t}}))}},{key:"handleChangOldPassword",value:function(e){e.preventDefault(),this.setState({oldPassword:e.target.value})}},{key:"handleChangNewPassword",value:function(e){e.preventDefault(),this.setState({newPassword:e.target.value,isTick:!0})}},{key:"handleChangeBio",value:function(e){e.preventDefault();var t=e.target.value;this.setState((function(e){return{currentUserBio:t,isTick:e.initialUserBio!==t}}))}},{key:"render",value:function(){var e,t="".concat(ke.a.container," ").concat(ke.a.profileAnim),a="".concat(ke.a.input," ").concat(ke.a.inputName),n="".concat(ke.a.input," ").concat(ke.a.inputTag),i="".concat(ke.a.input," ").concat(ke.a.inputBio),o="".concat(ke.a.horizontal," ").concat(ke.a.interactiveText);return e=0===this.state.changePassword?s.a.createElement("div",{className:ke.a.horizontal,style:{flexGrow:0}},s.a.createElement("input",{type:"text",value:this.state.oldPassword,placeholder:"Old password",className:"".concat(ke.a.input," ").concat(ke.a.inputPassword),onChange:this.handleChangOldPassword.bind(this)}),s.a.createElement("div",{className:ke.a.empty}),s.a.createElement("input",{type:"text",value:this.state.newPassword,placeholder:"New password",className:"".concat(ke.a.input," ").concat(ke.a.inputPassword),onChange:this.handleChangNewPassword.bind(this)})):1===this.state.changePassword?s.a.createElement("div",{className:o,onClick:this.openPasswordForm},"Password successfully changed!"):s.a.createElement("div",{className:o,onClick:this.openPasswordForm},"Could not change password. Tap to try again."),s.a.createElement("div",{className:t},s.a.createElement(W,{leftImg:"back",leftLink:"/ChatList/".concat(this.state.userId),rightImg:this.state.isTick?"tick":"",rightText:"",name:"Edit Profile",onRightClick:this.state.isTick?this.onTickClick:function(){}}),s.a.createElement("div",{className:ke.a.horizontal},s.a.createElement("div",{className:ke.a.vertical},s.a.createElement("div",{className:ke.a.horizontalPhoto},s.a.createElement("div",{className:ke.a.photo},s.a.createElement("img",{src:H.a,alt:"",className:"pic",height:"130px",width:"height"}))),s.a.createElement("input",{type:"text",value:this.state.currentUserName,placeholder:"Your name",className:a,onChange:this.handleChangeName}),s.a.createElement("input",{type:"text",value:this.state.currentUserTag,placeholder:"Your tag",className:n,onChange:this.handleChangeTag}),s.a.createElement("textarea",{value:this.state.currentUserBio,placeholder:"Tell something about yourself",className:i,onChange:this.handleChangeBio}),e)))}}]),a}(s.a.Component),Se=a(9),Ne=a.n(Se),Ce=function(e){Object(I.a)(a,e);var t=Object(D.a)(a);function a(e){var n;return Object(F.a)(this,a),(n=t.call(this,e)).state={messageType:0,tag:"",password:""},he()(Object(re.a)(n)),n.passwordInput=s.a.createRef(),n}return Object(O.a)(a,[{key:"componentDidMount",value:function(){fetch("".concat(G.b,"/csrf/")).then((function(e){return e.json()})).then((function(e){var t=e.csrfToken;document.cookie="csrftoken=".concat(t)}))}},{key:"getMessage",value:function(){return 0===this.state.messageType?s.a.createElement("div",{className:Ne.a.content},"Thank you for choosing Hummingbird!",s.a.createElement("br",null),"Enter your tag and password.",s.a.createElement("br",null),"Then tap anywhere to continue."):s.a.createElement("div",{className:Ne.a.content},"Incorrect tag of password.",s.a.createElement("br",null),"Try again.")}},{key:"handleTagChange",value:function(e){e.preventDefault(),this.setState({tag:e.target.value})}},{key:"handlePasswordChange",value:function(e){e.preventDefault(),this.setState({password:e.target.value})}},{key:"handleTagSubmit",value:function(e){e.preventDefault(),""===this.state.password?this.passwordInput.current.focus():this.handleAuth(e)}},{key:"handleAuth",value:function(e){var t=this;e.preventDefault();var a=B.a.get("csrftoken"),n={tag:this.state.tag,password:this.state.password,csrfmiddlewaretoken:a};fetch("".concat(G.b,"/users/auth/"),{method:"POST",headers:{"X-CSRFToken":a,cookie:{csrftoken:a}},body:JSON.stringify(n)}).then((function(e){return e.ok?e.json():Promise.reject(e)})).then((function(e){var t=e.id;window.location.hash="#/ChatList/".concat(t)})).catch((function(){t.setState({messageType:1})}))}},{key:"render",value:function(){return s.a.createElement("div",{className:Ne.a.vert,onClick:this.handleAuth},s.a.createElement("div",{className:Ne.a.horiz},s.a.createElement("div",{className:Ne.a.curr_message},this.getMessage(),s.a.createElement("div",{className:Ne.a.time},"2:39"))),s.a.createElement("div",{className:Ne.a.empty}),s.a.createElement("div",{className:Ne.a.horiz},s.a.createElement("form",{onSubmit:this.handleTagSubmit,className:Ne.a.form},s.a.createElement("input",{type:"text",value:this.state.tag,placeholder:"Enter your tag",className:Ne.a.input,onChange:this.handleTagChange,onClick:function(e){return e.stopPropagation(),!1}}))),s.a.createElement("div",{className:Ne.a.empty,onClick:function(e){return e.stopPropagation(),!1}}),s.a.createElement("div",{className:Ne.a.horiz},s.a.createElement("form",{onSubmit:this.handleAuth,className:Ne.a.form},s.a.createElement("input",{type:"password",value:this.state.password,placeholder:"Enter your password",className:Ne.a.input,onChange:this.handlePasswordChange,onClick:function(e){return e.stopPropagation(),!1},ref:this.passwordInput}))),s.a.createElement("div",{className:Ne.a.empty,onClick:function(e){return e.stopPropagation(),!1}}),s.a.createElement(i.b,{to:"/CreateUser",className:Ne.a.create,onClick:function(e){return e.stopPropagation(),!1}},"Don't have an account? Become a hummingbird!"))}}]),a}(s.a.Component),Ee=function(e){Object(I.a)(a,e);var t=Object(D.a)(a);function a(e){var n;return Object(F.a)(this,a),(n=t.call(this,e)).state={userName:"",userTag:"",userBio:"",firstPassword:"",secondPassword:"",isPasswordForm:0,isTagForm:0,isTick:!1},he()(Object(re.a)(n)),n}return Object(O.a)(a,[{key:"onTickClick",value:function(e){var t=this;if(e.preventDefault(),this.state.firstPassword===this.state.secondPassword){var a={name:this.state.userName,tag:this.state.userTag,bio:this.state.userBio,password:this.state.firstPassword};fetch("".concat(G.b,"/users/create_user/"),{method:"POST",body:JSON.stringify(a),headers:{"X-CSRFToken":B.a.get("csrftoken")}}).then((function(e){e.ok?e.json().then((function(e){var t=e.id;window.location.hash="#/ChatList/".concat(t[0].id)})):t.setState({isTagForm:1})}))}else this.setState({isPasswordForm:1})}},{key:"setTick",value:function(e){""===e?this.setState({isTick:!1}):this.setState((function(e){return{isTick:""!==e.userTag&&""!==e.firstPassword&&""!==e.secondPassword}}))}},{key:"getPasswordForm",value:function(){var e="".concat(ke.a.horizontal," ").concat(ke.a.interactiveText);return 0===this.state.isPasswordForm?s.a.createElement("div",{className:ke.a.horizontal,style:{flexGrow:0}},s.a.createElement("input",{type:"text",value:this.state.firstPassword,placeholder:"Enter password",className:"".concat(ke.a.input," ").concat(ke.a.inputPassword),onChange:this.handleChangeFirstPassword.bind(this)}),s.a.createElement("div",{className:ke.a.empty}),s.a.createElement("input",{type:"text",value:this.state.secondPassword,placeholder:"Repeat password",className:"".concat(ke.a.input," ").concat(ke.a.inputPassword),onChange:this.handleChangeSecondPassword.bind(this)})):s.a.createElement("div",{className:e,onClick:this.openPasswordForm},"Passwords don't match. Tap to try again.")}},{key:"getTagForm",value:function(){var e="".concat(ke.a.input," ").concat(ke.a.inputTag),t="".concat(ke.a.horizontal," ").concat(ke.a.interactiveText);return 0===this.state.isTagForm?s.a.createElement("input",{type:"text",value:this.state.userTag,placeholder:"Your tag",className:e,onChange:this.handleChangeTag}):s.a.createElement("div",{className:t,style:{margin:"30px 0",flexGrow:0},onClick:this.openTagForm},"This tag already exists. Tap to choose another tag.")}},{key:"openPasswordForm",value:function(e){e.preventDefault(),this.setState({firstPassword:"",secondPassword:"",isPasswordForm:0,isTick:!1})}},{key:"openTagForm",value:function(e){e.preventDefault(),this.setState({userTag:"",isTagForm:0,isTick:!1})}},{key:"handleChangeName",value:function(e){e.preventDefault(),this.setState({userName:e.target.value}),this.setTick(e.target.value)}},{key:"handleChangeTag",value:function(e){e.preventDefault(),this.setState({userTag:e.target.value}),this.setTick(e.target.value)}},{key:"handleChangeBio",value:function(e){e.preventDefault(),this.setState({userBio:e.target.value})}},{key:"handleChangeFirstPassword",value:function(e){e.preventDefault(),this.setState({firstPassword:e.target.value}),this.setTick(e.target.value)}},{key:"handleChangeSecondPassword",value:function(e){e.preventDefault(),this.setState({secondPassword:e.target.value}),this.setTick(e.target.value)}},{key:"render",value:function(){var e="".concat(ke.a.container," ").concat(ke.a.createUserAnim),t="".concat(ke.a.input," ").concat(ke.a.inputName),a="".concat(ke.a.input," ").concat(ke.a.inputBio);return s.a.createElement("div",{className:e},s.a.createElement(W,{leftImg:"back",rightImg:this.state.isTick?"tick":"",rightText:"",leftLink:"/",name:"Create an account",onRightClick:this.state.isTick?this.onTickClick:function(){}}),s.a.createElement("div",{className:ke.a.horizontal},s.a.createElement("div",{className:ke.a.vertical},s.a.createElement("div",{className:ke.a.horizontalPhoto},s.a.createElement("div",{className:ke.a.photo},s.a.createElement("div",{className:"".concat(L.a.profilePic," ").concat(L.a.profilePicSizeChatList," pic")}))),s.a.createElement("input",{type:"text",value:this.state.userName,placeholder:"Your name",className:t,onChange:this.handleChangeName}),this.getTagForm(),s.a.createElement("textarea",{value:this.state.userBio,placeholder:"Tell something about yourself",className:a,onChange:this.handleChangeBio}),this.getPasswordForm())))}}]),a}(s.a.Component),Te=function(e){Object(I.a)(a,e);var t=Object(D.a)(a);function a(e){var n;return Object(F.a)(this,a),(n=t.call(this,e)).state={chatName:"",chatTag:"",chatBio:"",chatMembers:"",userId:Number(n.props.match.params.userId),isTagForm:0,isNameForm:0,isInfoForm:0,isMembersForm:0},he()(Object(re.a)(n)),n}return Object(O.a)(a,[{key:"componentDidMount",value:function(){K(this.state.userId).then((function(e){e||(window.location.hash="#/")}))}},{key:"onFillInfo",value:function(e){e.preventDefault(),""!==this.state.chatName?""!==this.state.chatTag?this.setState({isInfoForm:1}):this.setState({isTagForm:2}):this.setState({isNameForm:1})}},{key:"onCreate",value:function(e,t){var a=this;if(e.preventDefault(),""!==this.state.chatMembers){var n={name:this.state.chatName,tag:this.state.chatTag,bio:this.state.chatBio,creator:this.state.userId,members:this.state.chatMembers,is_channel:t};fetch("".concat(G.b,"/chats/create_chat/"),{method:"POST",body:JSON.stringify(n),headers:{"X-CSRFToken":B.a.get("csrftoken")}}).then((function(e){if(e.ok){var t=a.state.chatTag.replace(" ","");"@"!==t[0]&&(t="@".concat(t)),window.location.hash="#/MessageForm/".concat(t,"/").concat(a.state.chatName,"/").concat(a.state.userId)}else a.setState({isMembersForm:1})}))}else this.setState({isMembersForm:2})}},{key:"openTagForm",value:function(e){e.preventDefault(),this.setState({chatTag:"",isTagForm:0})}},{key:"openNameForm",value:function(e){e.preventDefault(),this.setState({isNameForm:0})}},{key:"openMemberForm",value:function(e){e.preventDefault(),this.setState({isMembersForm:0})}},{key:"handleChangeName",value:function(e){e.preventDefault(),this.setState({chatName:e.target.value})}},{key:"handleChangeTag",value:function(e){e.preventDefault(),this.setState({chatTag:e.target.value})}},{key:"handleChangeBio",value:function(e){e.preventDefault(),this.setState({chatBio:e.target.value})}},{key:"handleChangeMembers",value:function(e){e.preventDefault(),this.setState({chatMembers:e.target.value})}},{key:"render",value:function(){var e,t,a,n,i=this,o="".concat(ke.a.container," ").concat(ke.a.createChatAnim),r="".concat(ke.a.input," ").concat(ke.a.inputName),c="".concat(ke.a.input," ").concat(ke.a.inputTag),l="".concat(ke.a.input," ").concat(ke.a.inputBio),h="".concat(ke.a.horizontal," ").concat(ke.a.interactiveText);return e=0===this.state.isTagForm?s.a.createElement("input",{type:"text",value:this.state.chatTag,placeholder:"Chat tag",className:c,onChange:this.handleChangeTag}):1===this.state.isTagForm?s.a.createElement("div",{className:h,style:{margin:"30px 0",flexGrow:0},onClick:this.openTagForm},"This tag already exists. Tap to choose another tag."):s.a.createElement("div",{className:h,style:{margin:"30px 0",flexGrow:0},onClick:this.openTagForm},"Your chat must have a tag. Tap to choose one."),t=0===this.state.isNameForm?s.a.createElement("input",{type:"text",value:this.state.chatName,placeholder:"Chat name",className:r,onChange:this.handleChangeName}):s.a.createElement("div",{className:h,style:{marginBottom:"40px",flexGrow:0},onClick:this.openNameForm},"Your chat must have a name. Tap to choose one."),a=0===this.state.isMembersForm?s.a.createElement("input",{type:"text",value:this.state.chatMembers,placeholder:"Enter chat members",className:ke.a.input,onChange:this.handleChangeMembers}):1===this.state.isMembersForm?s.a.createElement("div",{className:h,style:{marginBottom:"20px",flexGrow:0},onClick:this.openMemberForm},"Some users don't exist. Tap to try again."):s.a.createElement("div",{className:h,style:{marginBottom:"20px",flexGrow:0},onClick:this.openMemberForm},"Your chat must have members. Tap to choose."),n=0===this.state.isInfoForm?s.a.createElement("div",{className:ke.a.vertical},s.a.createElement("div",{className:ke.a.horizontalPhoto},s.a.createElement("div",{className:ke.a.photo},s.a.createElement("img",{src:H.a,alt:"",className:"pic",height:"130px",width:"height"}))),t,e,s.a.createElement("textarea",{value:this.state.chatBio,placeholder:"Tell something about your chat",className:l,onChange:this.handleChangeBio}),s.a.createElement("div",{className:ke.a.horizontal,style:{flexGrow:0}},s.a.createElement("div",{className:h,onClick:this.onFillInfo},"Proceed to adding members"))):s.a.createElement("div",{className:ke.a.vertical,style:{alignSelf:"center"}},a,s.a.createElement("div",{className:ke.a.horizontal,style:{flexGrow:0,marginTop:"15px"}},s.a.createElement("div",{className:h,onClick:function(e){return i.onCreate(e,!1)}},"Create a chat"),s.a.createElement("div",{className:ke.a.empty}),s.a.createElement("div",{className:h,onClick:function(e){return i.onCreate(e,!0)}},"Create a channel"))),s.a.createElement("div",{className:o},s.a.createElement(W,{leftImg:"back",leftLink:"/ChatList/".concat(this.state.userId),rightImg:"",rightText:"",name:"Create a chat",onRightClick:function(){}}),s.a.createElement("div",{className:ke.a.horizontal},n))}}]),a}(s.a.Component);l.a({dsn:"https://b0b762b80c4f4b6483a00e55349a665d@o388306.ingest.sentry.io/5224990"}),Object(r.render)(s.a.createElement(c.a,{store:j},s.a.createElement(i.a,{basename:"/"},s.a.createElement(o.c,null,s.a.createElement(o.a,{exact:!0,path:"/",component:Ce}),s.a.createElement(o.a,{path:"/CreateUser",component:Ee}),s.a.createElement(o.a,{path:"/ChatList/:userId",component:se}),s.a.createElement(o.a,{path:"/MessageForm/:tag/:name/:userId",component:ye}),s.a.createElement(o.a,{path:"/UserProfile/:userId",component:we}),s.a.createElement(o.a,{path:"/CreateChat/:userId",component:Te})))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/2019-2-Track-Frontend-T-Koshkelian",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/2019-2-Track-Frontend-T-Koshkelian","/service-worker.js");x?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):P(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):P(t,e)}))}}()},9:function(e,t,a){e.exports={vert:"welcomePageStyles_vert__1d_zt",scaleFromCenter:"welcomePageStyles_scaleFromCenter__2nekQ",horiz:"welcomePageStyles_horiz__25skz",content:"welcomePageStyles_content__3EfBu",time:"welcomePageStyles_time__3Y13W",curr_message:"welcomePageStyles_curr_message__2PIiB",input:"welcomePageStyles_input__1k3Z5",empty:"welcomePageStyles_empty__hxhEL",form:"welcomePageStyles_form__HSnh7",create:"welcomePageStyles_create__qRXYL"}}},[[62,1,2]]]);
//# sourceMappingURL=main.3c45280a.chunk.js.map